{{ define "footer" }}
<script>
    // Füge diesen Code in footer.html ein, direkt nach dem öffnenden <script> Tag
    // JavaScript für die Navigation
    document.addEventListener('DOMContentLoaded', function() {
        // Mobile Navigation
        const mobileMenuButton = document.getElementById('mobile-sidebar-button');
        const closeButton = document.getElementById('close-sidebar-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuButton) {
            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.style.display = 'block';
            });
        }

        if (closeButton) {
            closeButton.addEventListener('click', function() {
                mobileMenu.style.display = 'none';
            });
        }

        // Sidebar Toggle (einklappen/ausklappen)
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('main-content');
        const toggleButton = document.getElementById('toggle-sidebar');
        const expandButton = document.getElementById('expand-sidebar-button');
        const sidebarTitle = document.getElementById('sidebar-title');
        const menuTexts = document.querySelectorAll('.menu-text');

        // Initialer Zustand der Sidebar
        if (sidebar) {
            sidebar.style.display = 'flex';
        }

        // Speichern des Sidebar-Status im localStorage
        const savedSidebarState = localStorage.getItem('sidebarCollapsed');
        const isCollapsed = savedSidebarState === 'true';

        // Funktion zum Einklappen der Sidebar
        function collapseSidebar() {
            if (sidebar && mainContent) {
                sidebar.style.width = '5rem';
                mainContent.style.paddingLeft = '5rem';

                // Sidebar-Elemente anpassen
                if (sidebarTitle) sidebarTitle.style.display = 'none';

                // Text in Menüpunkten ausblenden
                menuTexts.forEach(text => {
                    text.style.display = 'none';
                });

                // Toggle-Button anpassen (Button zum Ausklappen)
                if (toggleButton) {
                    toggleButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                    </svg>
                `;
                }

                // Expand-Button in der oberen Leiste anzeigen
                if (expandButton) {
                    expandButton.style.display = 'block';
                }

                localStorage.setItem('sidebarCollapsed', 'true');
            }
        }

        // Funktion zum Ausklappen der Sidebar
        function expandSidebar() {
            if (sidebar && mainContent) {
                sidebar.style.width = '16rem';
                mainContent.style.paddingLeft = '16rem';

                // Sidebar-Elemente anpassen
                if (sidebarTitle) sidebarTitle.style.display = 'block';

                // Text in Menüpunkten anzeigen
                menuTexts.forEach(text => {
                    text.style.display = 'inline';
                });

                // Toggle-Button anpassen (Button zum Einklappen)
                if (toggleButton) {
                    toggleButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                `;
                }

                // Expand-Button in der oberen Leiste ausblenden
                if (expandButton) {
                    expandButton.style.display = 'none';
                }

                localStorage.setItem('sidebarCollapsed', 'false');
            }
        }

        // Initialen Zustand setzen
        if (isCollapsed) {
            collapseSidebar();
        } else {
            expandSidebar();
        }

        // Event-Listener für Toggle-Buttons
        if (toggleButton) {
            toggleButton.addEventListener('click', function() {
                const currentWidth = sidebar.style.width;
                if (currentWidth === '16rem') {
                    collapseSidebar();
                } else {
                    expandSidebar();
                }
            });
        }

        if (expandButton) {
            expandButton.addEventListener('click', function() {
                expandSidebar();
            });
        }
    });
</script>
<footer class="bg-white py-4 mt-auto border-t border-gray-200">
    <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
        <p>&copy; {{ .year }} PeopleFlow - HR Management System</p>
    </div>
</footer>
{{ end }}